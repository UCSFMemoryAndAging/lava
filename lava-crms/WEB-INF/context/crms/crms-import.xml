<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	<!--  note that the way to do scope overrides of core scope actions is to use customizedFlow, in which
		case the action inherits the configuration of the core action it is customizing, i.e. flowTypeBuilder,
		parentFlows -->
 	<bean id="lava.crms.importer.import.crmsImport" parent="crmsAction">
 		<property name="flowTypeBuilder"><ref bean="coreImportFlowTypeBuilder"/></property>
     	<property name="customizedFlow" value="lava.core.importer.import.import"/>
 	</bean>

	<bean id="lava.crms.importer.log.allCrmsImportLogs" parent="crmsSectionListAction">
     	<property name="customizedFlow" value="lava.core.importer.log.allImportLogs"/>
 	</bean>
				
	<!-- user can view import log which will have details (info, warning alert msgs), but there
		is no add/edit/delete (log entries are added in by the importing action)  -->
<!-- TODO: confirm that customizing flows work in terms of inheriting parentFlows as the parent flow of the core flow is:
lava.core.importer.log.allImportLogs
but the parent flow of this customizing flow would be:
lava.crms.importer.log.allCrmsImportLogs
should work because this basically builds the flows with CRUD transitions to lava.core.importer.log.ImportLog which is
in turn customized by lava.crms.importer.log.CrmsImportLog below
 -->
	<bean id="lava.crms.importer.log.crmsImportLog" parent="crmsEntityFlowAction">
     	<property name="customizedFlow" value="lava.core.importer.log.importLog"/>
	</bean>	

	<bean id="lava.crms.importer.definition.allCrmsImportDefinitions" parent="crmsSectionListAction">
     	<property name="customizedFlow" value="lava.core.importer.definition.allImportDefinitions"/>
 	</bean>
				
<!-- see above TOOD: same applies here -->
 	<bean id="lava.crms.importer.definition.crmsImportDefinition" parent="crmsEntityFlowAction">
     	<property name="customizedFlow" value="lava.core.importer.definition.importDefinition"/>
	</bean>

	<!-- form action definitions -->
	
	<bean id="crmsImportFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.importer.controller.CrmsImportHandler" parent="crmsHandler"/>
		<bean class="edu.ucsf.lava.crms.importer.controller.CrmsAllImportLogsHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>
   
	<bean id="allCrmsImportLogsFormAction" parent="crmsListComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.importer.controller.CrmsAllImportLogsHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	   

	<bean id="crmsImportLogFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.importer.controller.CrmsImportLogHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>
   
	<bean id="allCrmsImportDefinitionsFormAction" parent="crmsListComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.importer.controller.CrmsAllImportDefinitionsHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	   
 
 	<bean id="crmsImportDefinitionFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.importer.controller.CrmsImportDefinitionHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>
 
</beans>
