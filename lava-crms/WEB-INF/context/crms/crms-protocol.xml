<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	<!-- actions -->

	<!-- all protocols configurations for a project or across all projects -->
	<!-- note: in the protocol module, setup section, there is nothing patient-related. this
		is strictly for protocol configurations, so need to make it both the project and
		patient default for the section (parent crmsSectionListAction makes it the project
		section default, and then have to explicitly define it is the patient section default) -->	
	<bean id="lava.crms.protocol.setup.projectProtocolConfigs" parent="crmsSectionListAction">
		<property name="patientSectionDefault" value="true"/>
	</bean>
	
	<bean id="lava.crms.protocol.setup.protocolConfig" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.setup.projectProtocolConfigs</value>
		</list></property>
	</bean>

	<!-- NOT YET IMPLEMENTED: concept is to subclass protocolRepeatingTimepoint and when patient enrolls
		in protocol a patientProtocolTreatmentSchedule will be created  
	<bean id="lava.crms.protocol.setup.protocolTreatmentSchedule" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.setup.protocolConfig</value>
		</list></property>
	</bean>		
 	-->

	<bean id="lava.crms.protocol.setup.protocolAssessmentTimepointConfig" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.setup.protocolConfig</value>
		</list></property>
	</bean>		
		
	<bean id="lava.crms.protocol.setup.protocolRepeatingTimepointConfig" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.setup.protocolConfig</value>
		</list></property>
	</bean>		
		
	<bean id="lava.crms.protocol.setup.protocolVisitConfig" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.setup.protocolConfig</value>
			<value>lava.crms.protocol.setup.protocolAssessmentTimepointConfig</value>
		</list></property>
		<property name="subFlows"><list>
			<value>lava.crms.scheduling.visit.visit</value>
		</list></property>
	</bean>
			
	<bean id="lava.crms.protocol.setup.protocolVisitOptionConfig" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.setup.protocolConfig</value>
			<value>lava.crms.protocol.setup.protocolAssessmentTimepointConfig</value>
			<value>lava.crms.protocol.setup.protocolVisitConfig</value>
		</list></property>
	</bean>

	<bean id="lava.crms.protocol.setup.protocolInstrumentConfig" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.setup.protocolConfig</value>
			<value>lava.crms.protocol.setup.protocolAssessmentTimepointConfig</value>
			<value>lava.crms.protocol.setup.protocolVisitConfig</value>
		</list></property>
	</bean>
   	
	<bean id="lava.crms.protocol.setup.protocolInstrumentOptionConfig" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.setup.protocolConfig</value>
			<value>lava.crms.protocol.setup.protocolAssessmentTimepointConfig</value>
			<value>lava.crms.protocol.setup.protocolVisitConfig</value>
			<value>lava.crms.protocol.setup.protocolInstrumentConfig</value>
		</list></property>
	</bean>

	<!-- all protocols to which the current patient is assigned (list of patientProtocol assignment records) -->
	<bean id="lava.crms.protocol.assignment.patientProtocols" parent="crmsPatientModuleListAction"/>
 
 	<!-- all patients assigned to all protocols for a project or across all projects, where
		a quick filter will filter on individual protocols (and that filter list should also be
		filtered by project -->
	<bean id="lava.crms.protocol.assignment.projectProtocols" parent="crmsModuleListAction"/>

	<bean id="lava.crms.protocol.assignment.protocol" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.assignment.patientProtocols</value>
			<value>lava.crms.protocol.assignment.projectProtocols</value>
		</list></property>
	</bean>					 
	
	<!-- NOT IMPLEMENTED YET
	<bean id="lava.crms.protocol.assignment.patientProtocolTreatmentTimepoint" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.assignment.protocol</value>
		</list></property>
	</bean>	
	 -->

	<bean id="lava.crms.protocol.assignment.protocolAssessmentTimepoint" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.assignment.protocol</value>
		</list></property>
	</bean>	

	<bean id="lava.crms.protocol.assignment.protocolVisit" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.assignment.protocol</value>
			<value>lava.crms.protocol.assignment.protocolAssessmentTimepoint</value>
		</list></property>
	</bean>
			
	<bean id="lava.crms.protocol.assignment.protocolInstrument" parent="crmsEntityFlowAction">
		<property name="parentFlows"><list>
			<value>lava.crms.protocol.assignment.protocol</value>
			<value>lava.crms.protocol.assignment.protocolAssessmentTimepoint</value>
			<value>lava.crms.protocol.assignment.protocolVisit</value>
		</list></property>
	</bean>
   	
	
	
	<!-- form action definitions -->

	<bean id="projectProtocolConfigsFormAction" parent="crmsListComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProjectProtocolConfigsHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	 

	<bean id="protocolConfigFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolConfigHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	 

	<!-- NOT IMPLEMENTED YET  
	<bean id="protocolTreatmentScheduleFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolTreatmentScheduleHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	 
	 -->
 
	<bean id="protocolAssessmentTimepointConfigFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolAssessmentTimepointConfigHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	 

	<bean id="protocolRepeatingTimepointConfigFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolRepeatingTimepointConfigHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	 

	<bean id="protocolVisitConfigFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolVisitConfigHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	 

	<bean id="protocolVisitOptionConfigFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolVisitOptionConfigHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	 

	<bean id="protocolInstrumentConfigFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolInstrumentConfigHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	 

	<bean id="protocolInstrumentOptionConfigFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolInstrumentOptionConfigHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	 

	<bean id="patientProtocolsFormAction" parent="crmsListComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.PatientProtocolsHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  
	
	<bean id="projectProtocolsFormAction" parent="crmsListComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProjectProtocolsHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  
	
	<bean id="protocolFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>

	<bean id="protocolAssessmentTimepointFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolAssessmentTimepointHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>

	<!-- NOT YET IMPLEMENTED	
	<bean id="protocolTreatmentTimepointFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolTreatmentTimepointHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>
	 -->

	<bean id="protocolVisitFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolVisitHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	 

	<bean id="protocolInstrumentFormAction" parent="crmsEntityComponentFormAction"><constructor-arg><list>
		<bean class="edu.ucsf.lava.crms.protocol.controller.ProtocolInstrumentHandler" parent="crmsHandler"/>
	</list></constructor-arg></bean>  	 




	<!-- lists -->
	
	<bean id="list.repeatingTimepoint.numTimepoints" parent="list.numericRange">
		<property name="defaultMinValue" value="1"/>
		<property name="defaultMaxValue" value="999"/>
	</bean>

	<bean id="list.repeatingTimepoint.interval" parent="list.numericRange">
		<property name="defaultMinValue" value="1"/>
		<property name="defaultMaxValue" value="90"/>
	</bean>

	<bean id="list.protocol.treatmentTypes" parent="list.dataOnly">
		<property name="data"><list>
			<bean parent="list.data"><constructor-arg value="Radiation"/><constructor-arg value="Radiation"/></bean>
			<bean parent="list.data"><constructor-arg value="Chemo - Avastin"/><constructor-arg value="Chemo - Avastin"/></bean>
			<bean parent="list.data"><constructor-arg value="Chemo - Tarceva"/><constructor-arg value="Chemo - Tarceva"/></bean>
			<bean parent="list.data"><constructor-arg value="Chemo - TMZ"/><constructor-arg value="Chemo - TMZ"/></bean>
			<bean parent="list.data"><constructor-arg value="Chemo - Temodar"/><constructor-arg value="Chemo - Temodar"/></bean>
		</list></property>
	</bean>

	<bean id="list.protocol.schedWinAnchorTimepoint" parent="list.dynamic">
		<property name="query" value="list.protocol.schedWinAnchorTimepoint"/>
		<property name="defaultSort" value="none"/>
	</bean>  

	<bean id="list.protocol.schedWinDaysFrom" parent="list.numericRange">
		<property name="defaultMinValue" value="0"/>
		<property name="defaultMaxValue" value="9999"/>
	</bean>

	<bean id="list.protocol.schedWinSize" parent="list.numericRange">
		<property name="defaultMinValue" value="0"/>
		<property name="defaultMaxValue" value="999"/>
	</bean>

	<bean id="list.protocol.schedWinOffset" parent="list.numericRange">
		<property name="defaultMinValue" value="0"/>
		<property name="defaultMaxValue" value="999"/>
	</bean>
	
	<bean id="list.protocol.collectWinAnchorVisit" parent="list.dynamic">
		<property name="query" value="list.protocol.collectWinAnchorVisit"/>
		<property name="defaultSort" value="none"/>
	</bean>  
	
	<bean id="list.protocol.collectWinSize" parent="list.numericRange">
		<property name="defaultMinValue" value="0"/>
		<property name="defaultMaxValue" value="999"/>
	</bean>
		
	<bean id="list.protocol.collectWinOffset" parent="list.numericRange">
		<property name="defaultMinValue" value="0"/>
		<property name="defaultMaxValue" value="999"/>
	</bean>
	
	<!-- tpInterWinStatus: for protocolInstrument -->
	
	<bean id="list.protocol.seqCategories" parent="list.dataOnly">
		<property name="data"><list>
			<bean parent="list.data"><constructor-arg value="Brain Tumor"/><constructor-arg value="Brain Tumor"/></bean>
			<bean parent="list.data"><constructor-arg value="Spine Tumor"/><constructor-arg value="Spine Tumor"/></bean>
			<bean parent="list.data"><constructor-arg value="Brain Metastasis"/><constructor-arg value="Brain Metastatis"/></bean>
		</list></property>
	</bean>

	<bean id="list.protocol.allProtocolConfigs" parent="list.dynamic">
		<property name="query" value="list.protocol.allProtocolConfigs"/>
		<property name="defaultSort" value="none"/>
	</bean>  

	<bean id="list.protocol.seqAnchor" parent="list.dynamic">
		<property name="query" value="list.protocol.seqAnchor"/>
		<property name="defaultSort" value="none"/>
	</bean>  

	<bean id="list.protocol.seqAnchorBeginEnd" parent="list.dataOnly">
		<property name="data"><list>
			<bean parent="list.data"><constructor-arg value="BEGIN:"/><constructor-arg value="0"/></bean>
			<bean parent="list.data"><constructor-arg value="END:"/><constructor-arg value="1"/></bean>
		</list></property>
	</bean>
	
	<bean id="list.protocol.seqAnchorDaysFrom" parent="list.numericRange">
		<property name="defaultMinValue" value="1"/>
		<property name="defaultMaxValue" value="999"/>
	</bean>
	
	<bean id="list.protocol.matchingVisits" parent="list.dynamic">
		<property name="query" value="list.protocol.matchingVisits"/>
		<property name="defaultSort" value="none"/>
	</bean>  

	
</beans>	